@using ITravelApp.Data.Models
@using ITravelApp.Data.Models.Bookings
@model BookingWithTripDetailsAll
@{
    Layout = null;  // explicitly no layout page here!
    // string title =  "Order Confirmation - " + config.ApplicationName;
    var user = Model.client_name;
    var contact = Model.client_phone;
    var Address = Model.pickup_address;
    var booking_code = Model.booking_code;
    var trip_name = Model.trip_name;
    var trip_date = Model.trip_datestr;
    var adult = Model.total_pax;
    var child = Model.child_num;
    var infant = Model.infant_num;
    var pickup_time = Model.pickup_time;
    var currency = Model.currency_code;
    var fee = 0;
    var Discount = 0;
    var total_amount = Model.total_price;
    var pickups = Model.pickups;
    var nationality = Model.client_nationality;
    var returnDate = Model.trip_return_datestr;
    var is_two_way = Model.is_two_way;
    var extras = Model.extras;
    var extras_ob = Model.extras_obligatory;
}

<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>Reisebestätigung - DE</title>
</head>
<body style="margin: 0; padding: 0; background-color: #f2f4f7; font-family: 'Roboto', Arial, sans-serif;">
    <center style="width:100%; background-color:#f2f4f7;">
        <table role="presentation" cellpadding="0" cellspacing="0" border="0" width="100%">
            <tr>
                <td align="center" style="padding:24px 12px;">

                    <!-- Container -->
                    <table role="presentation" cellpadding="0" cellspacing="0" border="0" width="600" style="background:#ffffff; border-radius:12px; overflow:hidden;">

                        <!-- Header -->
                        <tr>
                            <td style="padding:24px;border-bottom:1px solid #ddd">
                                <table role="presentation" width="100%">
                                    <tr>
                                        <td width="48">
                                            <img src="http://api.raccoon24.de/images/logo.png" width="200" height="80" alt="Logo" style="display:block; border-radius:8px;">
                                        </td>
                                        <td style="padding-left:12px; color:#000;" align="right">
                                            <div style="font-size:14px; letter-spacing:.08em; opacity:.9;">REISEBESTÄTIGUNG</div>
                                            <div style="font-size:22px; font-weight:700; line-height:1.3;">Ihre Reise ist bestätigt!</div>
                                        </td>

                                    </tr>
                                </table>
                            </td>
                        </tr>

                        <tr>
                            <td style="padding:24px; font-size:14px; color:#000000;">
                                <p style="margin:0; font-size:16px;">Hallo @user,</p>
                                <p style="margin:12px 0 0;">Vielen Dank, dass Sie sich für ITravel entschieden haben. Ihre Buchung <strong>@booking_code</strong> für <strong>@trip_name</strong> ist bestätigt.</p>
                            </td>
                        </tr>

                        <!-- Booking Details -->
                        <tr>
                            <td style="padding:0 24px 24px;">
                                <table role="presentation" width="100%" cellpadding="0" cellspacing="0" style="border:1px solid #e5e7eb; border-radius:8px;">
                                    <tr>
                                        <td style="padding:16px; border-bottom:1px solid #e5e7eb;">
                                            <div style="font-size:13px; color:#555;">Reise</div>
                                            <div style="font-size:16px; font-weight:600; color:#000;">@trip_name</div>
                                        </td>
                                        <td style="padding:16px; border-bottom:1px solid #e5e7eb;" align="right">
                                            <div style="font-size:13px; color:#555;">Buchungsnr.</div>
                                            <div style="font-size:16px; font-weight:600; color:#000;">@booking_code</div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="padding:16px;">
                                            <div style="font-size:13px; color:#555;">Daten</div>
                                            <div style="font-size:15px; color:#000;">@trip_date</div>
                                        </td>
                                        <td style="padding:16px;" align="right">
                                            <div style="font-size:13px; color:#555;">Gäste</div>
                                            <div style="font-size:15px; color:#000;">@adult Adult(s) - @child Child(s)</div>
                                        </td>
                                    </tr>
                                    @if (Model.is_two_way == true)
                                    {
                                        <tr>
                                            <td style="padding:16px;">
                                                <div style="font-size:13px; color:#555;">Rückflugdatum</div>
                                                <div style="font-size:15px; color:#000;">@returnDate</div>
                                            </td>
                                            <td style="padding:16px;" align="right">
                                                <div style="font-size:13px; color:#555;">Zweiwege</div>

                                            </td>
                                        </tr>
                                    }
                                   
                                    <tr>
                                        <td style="padding:16px;">
                                            <div style="font-size:13px; color:#555;">Abholung</div>
                                            <div style="font-size:15px; color:#000;">@Address</div>
                                        </td>
                                        <td style="padding:16px;" align="right">
                                            <div style="font-size:13px; color:#555;">Nationalität</div>
                                            <div style="font-size:15px; color:#000;">@nationality</div>
                                        </td>
                                    </tr>
                                    <tr>
                                       
                                        <td style="padding:16px;">
                                            <div style="font-size:13px; color:#555;">Zahlung</div>
                                            <div style="font-size:15px; color:#000;">Bezahlung vor Ort in bar @currency @total_amount</div>
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                        <!-- extras -->
                         @if ((extras != null && extras.Count > 0) || (extras_ob != null && extras_ob.Count > 0))
                       {
                        <tr>
                            <td style="padding:0 24px 24px;">
                                <div style="font-size:16px; font-weight:700; color:#000; padding-bottom:8px;">Extras</div>
                                <table role="presentation" width="100%" cellpadding="0" cellspacing="0" style="border:1px solid #e5e7eb; border-radius:8px;">
                                    @for (var i = 0; i < extras.Count; i++)
                                    {
                                        var extra = extras[i];
                                        <tr>
                                            <td style="padding:12px; border-bottom:1px solid #e5e7eb;">
                                                <!-- Icon + Title -->
                                                <table role="presentation" cellpadding="0" cellspacing="0">
                                                    <tr>
                                                        <td valign="top">
                                                            <div style="font-size:15px; font-weight:600; color:#000;">(@extra.extra_count) @extra.extra_name</div>
                                                            <div style="font-size:13px; color:#555;">@extra.extra_price @currency</div>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </td>
                                        </tr>
                                    }

                                    @for (var i = 0; i < extras_ob.Count; i++)
                                    {
                                        var extra = extras_ob[i];
                                        <tr>
                                            <td style="padding:12px; border-bottom:1px solid #e5e7eb;">
                                                <!-- Icon + Title -->
                                                <table role="presentation" cellpadding="0" cellspacing="0">
                                                    <tr>
                                                        <td valign="top">
                                                            <div style="font-size:15px; font-weight:600; color:#000;">(@extra.extra_count) @extra.extra_name</div>
                                                            <div style="font-size:13px; color:#555;">@extra.extra_price @currency</div>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </td>
                                        </tr>
                                    }
                                </table>
                            </td>
                        </tr>
                        }
                        <!-- Itinerary -->
                      @if (pickups != null && pickups.Count > 0)
                       {
                        <tr>
                            <td style="padding:0 24px 24px;">
                                <div style="font-size:16px; font-weight:700; color:#000; padding-bottom:8px;">Reiseplan</div>
                                <table role="presentation" width="100%" cellpadding="0" cellspacing="0" style="border:1px solid #e5e7eb; border-radius:8px;">
                                    
                                    @for (var i = 0; i < pickups.Count; i++)
                                    {
                                        var pickup = pickups[i];
                                        <tr>
                                            <td style="padding:12px; border-bottom:1px solid #e5e7eb;">
                                                <!-- Icon + Title -->
                                                <table role="presentation" cellpadding="0" cellspacing="0">
                                                    <tr>
                                                        <td valign="top" style="padding-right:8px;">
                                                            <!-- Map Marker Icon (SVG) -->
                                                            <div style="width:16px; height:16px;">
                                                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#5599cb" viewBox="0 0 24 24">
                                                                    <path d="M12 2C8.14 2 5 5.14 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.86-3.14-7-7-7zm0
                                     9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5
                                     2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z" />
                                                                </svg>
                                                            </div>
                                                        </td>
                                                        <td valign="top">
                                                            <div style="font-size:15px; font-weight:600; color:#000;">@pickup.pickup_name</div>
                                                            <div style="font-size:13px; color:#555;">@pickup.duration</div>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </td>
                                        </tr>
                                    }
                               
                                </table>
                            </td>
                        </tr>
                        }
                        <!-- Price Summary -->
                        <tr>
                            <td style="padding:0 24px 24px;">
                                <div style="font-size:16px; font-weight:700; color:#000; padding-bottom:8px;">Preisübersicht</div>
                                <table role="presentation" width="100%" cellpadding="0" cellspacing="0" style="border:1px solid #e5e7eb; border-radius:8px;">
                                    <tr>
                                        <td style="padding:12px; font-size:14px; color:#000;">Reisepreis</td>
                                        <td align="right" style="padding:12px; font-size:14px; color:#000;">@currency @total_amount</td>
                                    </tr>
                                   @*  <tr>
                                        <td style="padding:12px; font-size:14px; color:#000;">Steuern & Gebühren</td>
                                        <td align="right" style="padding:12px; font-size:14px; color:#000;">@currency @fee</td>
                                    </tr> *@
                                    <tr>
                                        <td style="padding:12px; font-size:14px; color:#000;">Rabatt</td>
                                        <td align="right" style="padding:12px; font-size:14px; color:#5599cb;">@Discount</td>
                                    </tr>
                                    <tr>
                                        <td style="padding:12px; font-size:15px; font-weight:700; color:#000; border-top:1px solid #e5e7eb;">Gesamt</td>
                                        <td align="right" style="padding:12px; font-size:15px; font-weight:700; color:#000; border-top:1px solid #e5e7eb;">@currency @total_amount</td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                        <!-- Footer -->
                        <tr>
                            <td style="padding:0 24px 24px; font-size:13px; color:#555;">
                                Brauchen Sie Hilfe? Kontaktieren Sie uns unter <a href="mailto:Info@itravel.com" style="color:#5599cb;">Info@itravel.com</a> oder rufen Sie <a href="tel:+2 0000000000" style="color:#5599cb;">+2 0000000000</a> an.
                                
                            </td>
                        </tr>
                        <tr>
                            <td style="padding:10px;text-align:center;">

                                <table cellpadding="5" cellspacing="0" border="0" align="center">
                                    <tr>
                                        <td>
                                            <a href="https://www.facebook.com/ITravel.de" target="_blank">
                                                <img src="http://api.raccoon24.de/images/icons-facebook.png" alt="Facebook" width="24" style="display:block;">
                                            </a>
                                        </td>
                                        <td>
                                            <a href="https://www.instagram.com/ITravel.de" target="_blank">
                                                <img src="http://api.raccoon24.de/images/icons-instagram.png" alt="Instagram" width="24" style="display:block;">
                                            </a>
                                        </td>
                                        <td>
                                            <a href="waslaa.2025@gmail.com">
                                                <img src="http://api.raccoon24.de/images/icons-gmail.png" alt="Email" width="24" style="display:block;">
                                            </a>
                                        </td>
                                        <td>
                                            <a href="https://x.com/waslaade" target="_blank">
                                                <img src="http://api.raccoon24.de/images/icons-twitter.png" alt="x" width="24" style="display:block;">
                                            </a>
                                        </td>

                                    </tr>
                                </table>
                            </td>
                        </tr>

                    </table>
                </td>
            </tr>
        </table>
    </center>
</body>
</html>


